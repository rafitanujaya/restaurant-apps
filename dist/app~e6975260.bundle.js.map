{"version":3,"file":"app~e6975260.bundle.js","mappings":";kYACA,ovNA8CA,QA7CgC,CACxBA,KAAI,YAA+D,sHAGvB,OAHrCC,EAAuB,EAAvBA,wBAAyBC,EAAmB,EAAnBA,oBAAqBC,EAAU,EAAVA,WACzD,EAAKC,yBAA2BH,EAChC,EAAKI,YAAcF,EACnB,EAAKG,qBAAuBJ,EAAoB,SAE1C,EAAKK,gBAAe,0CAL6C,EAMzE,EAEMA,cAAa,WAAG,kHACV,OAAFC,EAAO,EAAKH,YAAZG,GAAE,SAEA,EAAKC,mBAAmBD,GAAG,kCACnC,EAAKE,mBAAmB,sBAExB,EAAKC,kBAAkB,0CANL,EAQtB,EAEMF,mBAAkB,SAACD,GAAI,kIACF,EAAKF,qBAAqBM,cAAcJ,GAAG,OAApD,OAAVK,EAAa,EAAH,yBACPA,GAAU,0CAFQ,EAG7B,EAEAF,gBAAe,WAAG,WAChBG,KAAKV,yBAAyBW,WAAYC,EAAAA,EAAAA,MAEnBC,SAASC,cAAc,mBAC/BC,iBAAiB,QAAO,YAAE,8FACjC,EAAKb,qBAAqBc,cAAc,EAAKf,aAAY,OAC/D,EAAKE,gBAAgB,2CAEzB,EAEAG,iBAAgB,WAAG,WACjBI,KAAKV,yBAAyBW,WAAYM,EAAAA,EAAAA,MAEnBJ,SAASC,cAAc,mBAC/BC,iBAAiB,QAAO,YAAE,8FACjC,EAAKb,qBAAqBgB,iBAAiB,EAAKjB,YAAYG,IAAG,OACrE,EAAKD,gBAAgB,2CAEzB","sources":["webpack://restaurant-apps/./src/scripts/utils/favorite-button-initiator.js"],"sourcesContent":["import { createFavoriteButtonTemplate, createFavoritedButtonTemplate } from '../views/templates/template-creator';\r\n\r\nconst FavoriteButtonInitiator = {\r\n  async init({ favoriteButtonContainer, favoriteRestaurants, restaurant }) {\r\n    this._favoriteButtonContainer = favoriteButtonContainer;\r\n    this._restaurant = restaurant;\r\n    this._favoriteRestaurants = favoriteRestaurants;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this._restaurant;\r\n\r\n    if (await this._isRestaurantExist(id)) {\r\n      this._renderFavorited();\r\n    } else {\r\n      this._renderFavorite();\r\n    }\r\n  },\r\n\r\n  async _isRestaurantExist(id) {\r\n    const Restaurant = await this._favoriteRestaurants.getRestaurant(id);\r\n    return !!Restaurant;\r\n  },\r\n\r\n  _renderFavorite() {\r\n    this._favoriteButtonContainer.innerHTML = createFavoriteButtonTemplate();\r\n\r\n    const favoriteButton = document.querySelector('#favoriteButton');\r\n    favoriteButton.addEventListener('click', async () => {\r\n      await this._favoriteRestaurants.putRestaurant(this._restaurant);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderFavorited() {\r\n    this._favoriteButtonContainer.innerHTML = createFavoritedButtonTemplate();\r\n\r\n    const favoriteButton = document.querySelector('#favoriteButton');\r\n    favoriteButton.addEventListener('click', async () => {\r\n      await this._favoriteRestaurants.deleteRestaurant(this._restaurant.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default FavoriteButtonInitiator;\r\n"],"names":["init","favoriteButtonContainer","favoriteRestaurants","restaurant","_favoriteButtonContainer","_restaurant","_favoriteRestaurants","_renderButton","id","_isRestaurantExist","_renderFavorited","_renderFavorite","getRestaurant","Restaurant","this","innerHTML","createFavoriteButtonTemplate","document","querySelector","addEventListener","putRestaurant","createFavoritedButtonTemplate","deleteRestaurant"],"sourceRoot":""}